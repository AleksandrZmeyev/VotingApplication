# Многопоточное клиент серверное приложение на языке Java (version 17), которое позволяет создавать голосование в различных разделах.

## Структура проекта

- Исходный код приложения находится в каталоге `voting_app/`;
- Дополнительные файлы и ресурсы:
  - `voting-app.jar`: Исполняемый файл.
  - `logger.properties`: Настройки логирования.
  - `Topics`: Файл с данными о разделах и голосованиях.

## Docker-образ 
- [Имеется Docker-образ приложения](https://hub.docker.com/r/aleksandrzmeyev/voting-app/)
- `Pull command`: docker pull aleksandrzmeyev/voting-app:latest

## Запуск приложения:

- Для корректного запуска сервера необходимо:
  - наличие `voting-app.jar` - исполняемого файла;
  - наличие `logger.properties` - настроек логирования;
  - в качестве параметра запуска указать `server`.
  - Пример: `java -jar voting-app.jar server`

- Для корректного запуска клиента необходимо наличие:
  - наличие voting-app.jar - исполняемого файла;
  - в качестве параметра запуска указать `client`.
  - Пример: `java -jar voting-app.jar client`

- Сервер работает на порту `8080`
- Клиенты подключаются к `localhost:8080`


## Приложение поддерживает:

- Запуск в режиме клиента и режиме сервера;
  
- Общение по протоколу TCP (или UDP) между сервером и клиентом;

- Одновременная обработка команд от нескольких клиентов в режиме сервера;

- Логирование в режиме сервера;

## Клиентские команды:
  - `login -u=username` – задает имя пользователя (все остальные команды доступны только после выполнения `login`)
    
  - `create topic -n=<topic>` - создает новый раздел c уникальным именем заданным в параметре `-n`
    
  - `view` - показывает список уже созданных разделов в формате: `<topic (votes in topic=<count>)>`
    - опциональный параметр `-t=<topic>` - в этом случае команда показывает список голосований в конкретном разделе
      
  - `create vote -t=<topic>` - запускает создание нового голосования в разделе указанном в параметре `-t`  
Для создания голосования (команда `create vote -t=<topic>`) у пользователя последовательно запрашиваются:
    - название голоования (уникальное имя)
    - тема голосования (описание)
    - количество вариантов ответа
    - варианты ответа
      
 - `view -t=<topic> -v=<vote>` - отображает информацию по голосованию
   - тема голосования
   - варианты ответа и количество пользователей выбравших данный вариант
     
 - `vote -t=<topic> -v=<vote>` - запускает выбор ответа в голосовании для текущего пользователя
   - выводятся варианты ответа для данного голосования;
   - у пользователя запрашивается выбор ответа.
     
 - `delete -t=topic -v=<vote>` - удалить голосование с именем `<vote>` из `<topic>` (удалить может только пользователь его создавший);
   
 - `exit` - завершение работы программы.

## Серверные команды
- `load <filename>` - загрузка данных из файла;
- `save <filename>` – сохранение в файл всех созданных разделов и принадлежащим им голосований + их результатов;
- `exit` - завершение работы программ.
